name: Get Release

on:
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - name: Get Release
      id: get-release
      uses: actions/github-script@v6
      with:
        script: |
          let uploadUrl = '';
          try {
            const release = await github.rest.repos.getLatestRelease({
              owner: context.repo.owner,
              repo: context.repo.repo,
            });
            uploadUrl = release.data.upload_url;
          } catch (error) {
            console.log('Error fetching latest release: ', error.message);
            uploadUrl = error;
          }
          return uploadUrl;
    - name: Print release upload URL
      run: echo "${{ steps.get-release.outputs.result }}"

